version: "3.8"

services:
  webcasa:
    build: .
    container_name: webcasa
    ports:
      - "39921:39921" # Panel UI
      - "80:80" # HTTP
      - "443:443" # HTTPS
    volumes:
      - webcasa-data:/app/data
      - caddy-config:/root/.local/share/caddy # Caddy TLS certificates
      - caddy-data:/root/.config/caddy # Caddy runtime data
    environment:
      - WEBCASA_PORT=39921
      - WEBCASA_JWT_SECRET=change-me-in-production
    restart: unless-stopped

volumes:
  webcasa-data:
  caddy-config:
  caddy-data:
